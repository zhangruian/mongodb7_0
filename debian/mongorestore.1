.\" Man page generated from reStructuredText.
.
.TH "MONGORESTORE" "1" "Jul 25, 2019" "4.2" "mongodb-manual"
.SH NAME
mongorestore \- MongoDB Data Restoration Tool
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SS On this page
.INDENT 0.0
.IP \(bu 2
\fI\%Synopsis\fP
.IP \(bu 2
\fI\%Syntax\fP
.IP \(bu 2
\fI\%Behavior\fP
.IP \(bu 2
\fI\%Required Access\fP
.IP \(bu 2
\fI\%Options\fP
.IP \(bu 2
\fI\%Examples\fP
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.IP "macOS Sierra and Go 1.6 Incompatibility"
.sp
Users running on macOS Sierra require the 3.2.10 or newer version
of  mongorestore\&.
.UNINDENT
.UNINDENT
.SH SYNOPSIS
.sp
The \fI\%mongorestore\fP program loads data from either a binary
database dump created by \fBmongodump\fP or the standard input
(starting in version 3.0.0) into a \fBmongod\fP or
\fBmongos\fP instance.
.sp
For an overview of \fI\%mongorestore\fP usage, see
/tutorial/backup\-and\-restore\-tools\&.
.SH SYNTAX
.sp
Run \fI\%mongorestore\fP from the system command line, not the \fBmongo\fP shell.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore [options] [<directory>/<BSON file>]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
For example, to restore from a \fBdump\fP directory to a local
\fBmongod\fP instance running on port \fB27017\fP:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore  dump/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
As \fI\%mongorestore\fP restores from the \fBdump/\fP directory,
it creates the database and collections as needed and logs its progress:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
2019\-07\-08T14:37:38.942\-0400 preparing collections to restore from
2019\-07\-08T14:37:38.944\-0400 reading metadata for test.bakesales from dump/test/bakesales.metadata.json
2019\-07\-08T14:37:38.944\-0400 reading metadata for test.salaries from dump/test/salaries.metadata.json
2019\-07\-08T14:37:38.976\-0400 restoring test.salaries from dump/test/salaries.bson
2019\-07\-08T14:37:38.985\-0400 no indexes to restore
2019\-07\-08T14:37:38.985\-0400 finished restoring test.salaries (10 documents, 0 failures)
2019\-07\-08T14:37:39.009\-0400 restoring test.bakesales from dump/test/bakesales.bson
2019\-07\-08T14:37:39.011\-0400 restoring indexes for collection test.bakesales from metadata
2019\-07\-08T14:37:39.118\-0400 finished restoring test.bakesales (21 documents, 0 failures)
2019\-07\-08T14:37:39.118\-0400 restoring users from dump/admin/system.users.bson
2019\-07\-08T14:37:39.163\-0400 restoring roles from dump/admin/system.roles.bson
2019\-07\-08T14:37:39.249\-0400 31 document(s) restored successfully. 0 document(s) failed to restore.
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You can also restore a specific collection or collections from the
\fBdump/\fP directory. For example, the following operation restores a
single collection from corresponding data files in the \fBdump/\fP
directory:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-nsInclude test.purchaseorders dump/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If the \fBdump/\fP directory does not contain the corresponding data file
for the specified namespace, no data will be restored. For example, the
following specifies a collection namespace that does not have a
corresponding data in the \fBdump/\fP directory:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-nsInclude foo.bar dump/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The \fI\%mongorestore\fP outputs the following messages:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
2019\-07\-08T14:38:15.142\-0400 preparing collections to restore from
2019\-07\-08T14:38:15.142\-0400 0 document(s) restored successfully. 0 document(s) failed to restore.
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
For more examples, see \fI\%Examples\fP\&.
.sp
For more information on the options and arguments, see
\fI\%Options\fP\&.
.SH BEHAVIOR
.SS Insert Only
.sp
\fI\%mongorestore\fP can create a new database or add data to an
existing database. However, \fI\%mongorestore\fP performs inserts
only and does not perform updates. That is, if restoring documents to
an existing database and collection and existing documents have the
same value \fB_id\fP field as the to\-be\-restored documents,
\fI\%mongorestore\fP will \fInot\fP overwrite those documents.
.SS Rebuild Indexes
.sp
\fI\%mongorestore\fP recreates indexes recorded by
\fBmongodump\fP\&.
.sp
\fBNOTE:\fP
.INDENT 0.0
.INDENT 3.5
For MongoDB 2.6 through MongoDB versions with
\fBfeatureCompatibilityVersion\fP (fCV) set to \fB"4.0"\fP or earlier,
creating indexes will \fBerror if an
index key in an existing document exceeds the limit\fP\&.
.sp
To avoid this issue, consider using hashed indexes or indexing a
computed value instead. If you want to resolve the index issue after
restoring the data, you can disable the default index key length
validation on the target database by setting the \fBmongod\fP
instance\(aqs \fBfailIndexKeyTooLong\fP parameter to false.
.UNINDENT
.UNINDENT
.SS Version Compatibility
.sp
The data format used by \fBmongodump\fP from version 2.2 or
later is \fIincompatible\fP with earlier versions of \fBmongod\fP\&.
Do not use recent versions of \fBmongodump\fP to back up older
data stores.
.SS Exclude \fBsystem.profile\fP Collection
.sp
\fI\%mongorestore\fP does not restore the \fBsystem.profile\fP collection data.
.SS FIPS
.sp
Starting in version 4.2, MongoDB removes the \fB\-\-sslFIPSMode\fP
option for mongorestore\&. mongorestore
will use FIPS compliant connections to
\fBmongod\fP/\fBmongos\fP if the
\fBmongod\fP/\fBmongos\fP instances are
configured to use FIPS mode\&.
.SS Write Concern
.sp
Starting in version 4.2, if you specify write concern in both the
\fI\%\-\-writeConcern\fP option and the
\fI\%\-\-uri connection string\fP option, the
\fI\%\-\-writeConcern\fP value overrides
the write concern specified in the URI string.
.sp
In earlier versions, the two options are incompatible.
.SH REQUIRED ACCESS
.sp
To restore data to a MongoDB deployment that has access control enabled, the \fBrestore\fP role provides
access to restore any database if the backup data does not include
\fBsystem.profile\fP collection data.
.sp
If the backup data includes \fBsystem.profile\fP collection data and the target database
does not contain the \fBsystem.profile\fP
collection, \fI\%mongorestore\fP attempts to create the collection
even though the program does not actually restore \fBsystem.profile\fP
documents. As such, the user requires additional privileges to perform
\fBcreateCollection\fP and \fBconvertToCapped\fP
actions on the \fBsystem.profile\fP
collection for a database.
.sp
As of MongoDB 3.2.11, you can run \fI\%mongorestore\fP with
\fI\%\-\-oplogReplay\fP if you have the
\fBrestore\fP role. To replay the oplog on versions of MongoDB
3.2.10 and earlier, you must create a
user\-defined role that has
\fBanyAction\fP on resource\-anyresource and grant only
to users who must run \fI\%mongorestore\fP with
\fI\%\-\-oplogReplay\fP\&.
.SH OPTIONS
.sp
Changed in version 3.0.0: \fI\%mongorestore\fP removed the \fB\-\-filter\fP, \fB\-\-dbpath\fP, and the
\fB\-\-noobjcheck\fP options.

.INDENT 0.0
.TP
.B mongorestore
.UNINDENT
.INDENT 0.0
.TP
.B \-\-help
Returns information on the options and use of \fBmongorestore\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-verbose, \-v
Increases the amount of internal reporting returned on standard output
or in log files. Increase the verbosity with the \fB\-v\fP form by
including the option multiple times, (e.g. \fB\-vvvvv\fP\&.)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-quiet
Runs \fBmongorestore\fP in a quiet mode that attempts to limit the amount
of output.
.sp
This option suppresses:
.INDENT 7.0
.IP \(bu 2
output from database commands
.IP \(bu 2
replication activity
.IP \(bu 2
connection accepted events
.IP \(bu 2
connection closed events
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
Returns the \fBmongorestore\fP release number.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-uri <connectionString>
New in version 3.4.6.

.sp
Specify a resolvable URI
connection string (enclose in quotes) to connect to the MongoDB deployment.
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
\-\-uri "mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]"
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
For information on the components of the connection string, see
the Connection String URI Format documentation.
.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
For TLS/SSL options, use the command\-line options instead of the
URI options for TLS/SSL (Available starting in
4.2)\&.
.UNINDENT
.UNINDENT
.sp
\fBIMPORTANT:\fP
.INDENT 7.0
.INDENT 3.5
The following command\-line options cannot be used in conjunction
with \fI\%\-\-uri\fP option:
.INDENT 0.0
.IP \(bu 2
\fI\%\-\-host\fP
.IP \(bu 2
\fI\%\-\-port\fP
.IP \(bu 2
\fI\%\-\-db\fP
.IP \(bu 2
\fI\%\-\-username\fP
.IP \(bu 2
\fI\%\-\-password\fP  (if the
URI connection string also includes the password)
.IP \(bu 2
\fI\%\-\-authenticationDatabase\fP
.IP \(bu 2
\fI\%\-\-authenticationMechanism\fP
.UNINDENT
.sp
Instead, specify these options as part of your \fI\%\-\-uri\fP
connection string.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-host <hostname><:port>, \-h <hostname><:port>
\fIDefault\fP: localhost:27017
.sp
Specifies a resolvable hostname for the \fBmongod\fP to which to
connect. By default, the \fBmongorestore\fP attempts to connect to a MongoDB
instance running on the localhost on port number \fB27017\fP\&.
.sp
To connect to a replica set, specify the
\fBreplSetName\fP and a seed list of set members, as in
the following:
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
\-\-host <replSetName>/<hostname1><:port>,<hostname2><:port>,<...>
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
When specifying the replica set list format, \fBmongorestore\fP always connects to
the primary\&.
.sp
You can also connect to any single member of the replica set by specifying
the host and port of only that member:
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
\-\-host <hostname1><:port>
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Changed in version 3.0.0: If you use IPv6 and use the \fB<address>:<port>\fP format, you must
enclose the portion of an address and port combination in
brackets (e.g. \fB[<address>]\fP).

.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
You cannot specify both \fI\%\-\-host\fP and \fI\%\-\-uri\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-port <port>
\fIDefault\fP: 27017
.sp
Specifies the TCP port on which the MongoDB instance listens for
client connections.
.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
You cannot specify both \fI\%\-\-port\fP and \fI\%\-\-uri\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ssl
New in version 2.6.

.sp
Enables connection to a \fBmongod\fP or \fBmongos\fP that has
TLS/SSL support enabled.
.sp
For more information about TLS/SSL and MongoDB, see
/tutorial/configure\-ssl and
/tutorial/configure\-ssl\-clients .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sslCAFile <filename>
New in version 2.6.

.sp
Specifies the \fB\&.pem\fP file that contains the root certificate chain
from the Certificate Authority. Specify the file name of the
\fB\&.pem\fP file using relative or absolute paths.
.sp
Starting in version 3.4, if \fB\-\-tlsCAFile\fP/\fBnet.tls.CAFile\fP (or
their aliases \fB\-\-sslCAFile\fP/\fBnet.ssl.CAFile\fP) is not specified
and you are not using x.509 authentication, the system\-wide CA
certificate store will be used when connecting to an TLS/SSL\-enabled
server.
.sp
To use x.509 authentication, \fB\-\-tlsCAFile\fP or \fBnet.tls.CAFile\fP
must be specified unless using \fB\-\-tlsCertificateSelector\fP or
\fB\-\-net.tls.certificateSelector\fP\&. Or if using the \fBssl\fP aliases,
\fB\-\-sslCAFile\fP or \fBnet.ssl.CAFile\fP must be specified unless using
\fB\-\-sslCertificateSelector\fP or \fBnet.ssl.certificateSelector\fP\&.
.sp
\fBWARNING:\fP
.INDENT 7.0
.INDENT 3.5
\fBVersion 3.2 and earlier:\fP For TLS/SSL connections (\fB\-\-ssl\fP) to
\fBmongod\fP and \fBmongos\fP, if the \fBmongorestore\fP runs without the
\fI\%\-\-sslCAFile\fP, \fBmongorestore\fP will not attempt
to validate the server certificates. This creates a vulnerability
to expired \fBmongod\fP and \fBmongos\fP certificates as
well as to foreign processes posing as valid \fBmongod\fP or
\fBmongos\fP instances. Ensure that you \fIalways\fP specify the
CA file to validate the server certificates in cases where
intrusion is a possibility.
.UNINDENT
.UNINDENT
.sp
For more information about TLS/SSL and MongoDB, see
/tutorial/configure\-ssl and
/tutorial/configure\-ssl\-clients .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sslPEMKeyFile <filename>
New in version 2.6.

.sp
Specifies the \fB\&.pem\fP file that contains both the TLS/SSL certificate
and key. Specify the file name of the \fB\&.pem\fP file using relative
or absolute paths.
.sp
This option is required when using the \fI\%\-\-ssl\fP option to connect
to a \fBmongod\fP or \fBmongos\fP that has
\fBCAFile\fP enabled \fIwithout\fP
\fBallowConnectionsWithoutCertificates\fP\&.
.sp
For more information about TLS/SSL and MongoDB, see
/tutorial/configure\-ssl and
/tutorial/configure\-ssl\-clients .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sslPEMKeyPassword <value>
New in version 2.6.

.sp
Specifies the password to de\-crypt the certificate\-key file (i.e.
\fI\%\-\-sslPEMKeyFile\fP). Use the \fI\%\-\-sslPEMKeyPassword\fP option only if the
certificate\-key file is encrypted. In all cases, the \fBmongorestore\fP will
redact the password from all logging and reporting output.
.sp
If the private key in the PEM file is encrypted and you do not specify
the \fI\%\-\-sslPEMKeyPassword\fP option, the \fBmongorestore\fP will prompt for a passphrase. See
ssl\-certificate\-password\&.
.sp
For more information about TLS/SSL and MongoDB, see
/tutorial/configure\-ssl and
/tutorial/configure\-ssl\-clients .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sslCRLFile <filename>
New in version 2.6.

.sp
Specifies the \fB\&.pem\fP file that contains the Certificate Revocation
List. Specify the file name of the \fB\&.pem\fP file using relative or
absolute paths.
.sp
For more information about TLS/SSL and MongoDB, see
/tutorial/configure\-ssl and
/tutorial/configure\-ssl\-clients .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sslAllowInvalidCertificates
New in version 2.6.

.sp
Bypasses the validation checks for server certificates and allows
the use of invalid certificates. When using the
\fBallowInvalidCertificates\fP setting, MongoDB logs as a
warning the use of the invalid certificate.
.sp
Starting in MongoDB 4.0, if you specify
\fB\-\-sslAllowInvalidCertificates\fP or
\fBnet.ssl.allowInvalidCertificates: true\fP (or in MongoDB 4.2, the
alias \fB\-\-tlsAllowInvalidateCertificates\fP or
\fBnet.tls.allowInvalidCertificates: true\fP) when using x.509
authentication, an invalid certificate is only sufficient to
establish a TLS/SSL connection but is \fIinsufficient\fP for
authentication.
.sp
# We created a separate blurb for tls in the ssl\-clients page.
.sp
\fBWARNING:\fP
.INDENT 7.0
.INDENT 3.5
Although available, avoid using the
\fB\-\-sslAllowInvalidCertificates\fP option if possible. If the use of
\fB\-\-sslAllowInvalidCertificates\fP is necessary, only use the option
on systems where intrusion is not possible.
.sp
If the \fBmongo\fP shell (and other
mongodb\-tools\-support\-ssl) runs with the
\fB\-\-sslAllowInvalidCertificates\fP option, the
\fBmongo\fP shell (and other
mongodb\-tools\-support\-ssl) will not attempt to validate
the server certificates. This creates a vulnerability to expired
\fBmongod\fP and \fBmongos\fP certificates as
well as to foreign processes posing as valid
\fBmongod\fP or \fBmongos\fP instances. If you
only need to disable the validation of the hostname in the
TLS/SSL certificates, see \fB\-\-sslAllowInvalidHostnames\fP\&.
.UNINDENT
.UNINDENT
.sp
For more information about TLS/SSL and MongoDB, see
/tutorial/configure\-ssl and
/tutorial/configure\-ssl\-clients .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sslAllowInvalidHostnames
New in version 3.0.

.sp
Disables the validation of the hostnames in TLS/SSL certificates. Allows
\fBmongorestore\fP to connect to MongoDB instances even if the hostname in their
certificates do not match the specified hostname.
.sp
For more information about TLS/SSL and MongoDB, see
/tutorial/configure\-ssl and
/tutorial/configure\-ssl\-clients .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-username <username>, \-u <username>
Specifies a username with which to authenticate to a MongoDB database
that uses authentication. Use in conjunction with the \fI\%\-\-password\fP and
\fI\%\-\-authenticationDatabase\fP options.
.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
You cannot specify both \fI\%\-\-username\fP and \fI\%\-\-uri\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-password <password>, \-p <password>
Specifies a password with which to authenticate to a MongoDB database
that uses authentication. Use in conjunction with the \fI\%\-\-username\fP and
\fI\%\-\-authenticationDatabase\fP options.
.sp
Changed in version 3.0.2: To prompt the user
for the password, pass the \fI\%\-\-username\fP option without
\fI\%\-\-password\fP or specify an empty string as the \fI\%\-\-password\fP value,
as in \fB\-\-password ""\fP .

.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
You cannot specify both \fI\%\-\-password\fP and \fI\%\-\-uri\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-authenticationDatabase <dbname>
Specifies the authentication database where the specified \fI\%\-\-username\fP has been created.
See user\-authentication\-database\&.
.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
You cannot specify both \fI\%\-\-authenticationDatabase\fP and \fI\%\-\-uri\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-authenticationMechanism <name>
\fIDefault\fP: SCRAM\-SHA\-1
.sp
Specifies the authentication mechanism the \fBmongorestore\fP instance uses to
authenticate to the \fBmongod\fP or \fBmongos\fP\&.
.sp
Changed in version 4.0: MongoDB removes support for the deprecated MongoDB
Challenge\-Response (\fBMONGODB\-CR\fP) authentication mechanism.
.sp
MongoDB adds support for SCRAM mechanism using the SHA\-256 hash
function (\fBSCRAM\-SHA\-256\fP).

.TS
center;
|l|l|.
_
T{
Value
T}	T{
Description
T}
_
T{
SCRAM\-SHA\-1
T}	T{
\fI\%RFC 5802\fP standard
Salted Challenge Response Authentication Mechanism using the SHA\-1
hash function.
T}
_
T{
SCRAM\-SHA\-256
T}	T{
\fI\%RFC 7677\fP standard
Salted Challenge Response Authentication Mechanism using the SHA\-256
hash function.
.sp
Requires featureCompatibilityVersion set to \fB4.0\fP\&.
.sp
New in version 4.0.
T}
_
T{
MONGODB\-X509
T}	T{
MongoDB TLS/SSL certificate authentication.
T}
_
T{
GSSAPI (Kerberos)
T}	T{
External authentication using Kerberos. This mechanism is
available only in \fI\%MongoDB Enterprise\fP\&.
T}
_
T{
PLAIN (LDAP SASL)
T}	T{
External authentication using LDAP. You can also use \fBPLAIN\fP
for authenticating in\-database users. \fBPLAIN\fP transmits
passwords in plain text. This mechanism is available only in
\fI\%MongoDB Enterprise\fP\&.
T}
_
.TE
.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
You cannot specify both \fI\%\-\-authenticationMechanism\fP and \fI\%\-\-uri\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-gssapiServiceName
New in version 2.6.

.sp
Specify the name of the service using GSSAPI/Kerberos\&. Only required if the service does not use the
default name of \fBmongodb\fP\&.
.sp
This option is available only in MongoDB Enterprise.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-gssapiHostName
New in version 2.6.

.sp
Specify the hostname of a service using GSSAPI/Kerberos\&. \fIOnly\fP required if the hostname of a machine does
not match the hostname resolved by DNS.
.sp
This option is available only in MongoDB Enterprise.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-db <database>, \-d <database>
Specifies the destination database for \fBmongorestore\fP to restore data
\fIinto\fP when restoring from a BSON file. If the database does not
exist, \fBmongorestore\fP creates the database. For example, the following
restores the \fBsalaries\fP collection into the \fBreporting\fP database.
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-db reporting dump/test/salaries.bson
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you do not specify \fI\%\-\-db\fP, \fBmongorestore\fP takes the database name
from the data files.
.sp
The use of \fI\%\-\-db\fP and \fI\%\-\-collection\fP options are
deprecated when restoring from a directory or an archive file.
Instead, to restore from an archive or a directory, see
\fI\%\-\-nsInclude\fP instead.
.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
You cannot specify both \fI\%\-\-db\fP and \fI\%\-\-uri\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-collection <collection>, \-c <collection>
Specifies the name of the destination collection for \fBmongorestore\fP to
restore data \fIinto\fP when restoring from a BSON file. If
you do not specify \fI\%\-\-collection\fP, \fBmongorestore\fP takes
the collection name from the input filename. If the input file has an
extension, MongoDB omits the extension of the file from the collection
name.
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-db reporting \-\-collection employeesalaries dump/test/salaries.bson
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The use of \fI\%\-\-db\fP and \fI\%\-\-collection\fP options are
deprecated when restoring from a directory or an archive file.
Instead, to restore from an archive or a directory, see
\fI\%\-\-nsInclude\fP instead.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-nsExclude <namespace pattern>
New in version 3.4.

.sp
Specifies a namespace pattern (e.g. \fB"test.myCollection"\fP,
\fB"reporting.*"\fP, \fB"dept*.bar"\fP) to \fIexclude\fP the matching
namespaces from the restore. In the pattern, you can use asterisks
\fB*\fP as \fIwild cards\fP\&. For an example of the wildcard pattern, see
\fI\%Restore Collections Using Wild Cards\fP\&.
.sp
You can specify \fI\%\-\-nsExclude\fP multiple times to exclude multiple namespace
patterns.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-nsInclude <namespace pattern>
New in version 3.4.

.sp
Specifies a namespace pattern (e.g. \fB"test.myCollection"\fP,
\fB"reporting.*"\fP, \fB"dept*.bar"\fP) to restore only the namespaces
that match the pattern. In the pattern, you can use asterisks \fB*\fP
as \fIwild cards\fP\&. For an example of the wildcard pattern, see
\fI\%Restore Collections Using Wild Cards\fP\&.
.sp
You can specify \fI\%\-\-nsInclude\fP multiple times to include multiple namespace
patterns.
.sp
If source directory or file (i.e. the directory/file from which you
are restoring the data) does not contain data files that match the
namespace pattern, no data will be restored.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-nsFrom <namespace pattern>
New in version 3.4.

.sp
Use with \fI\%\-\-nsTo\fP to rename a namespace during the
restore operation. \fI\%\-\-nsFrom\fP specifies the collection in the
dump file, while \fI\%\-\-nsTo\fP specifies the name that should be
used in the restored database.
.sp
\fI\%\-\-nsFrom\fP accepts a \fInamespace pattern\fP as its argument. The namespace
pattern permits \fI\%\-\-nsFrom\fP to refer to any namespace that matches the
specified pattern. \fI\%mongorestore\fP matches the smallest valid occurence
of the namespace pattern.
.sp
For simple replacements, use asterisks (\fB*\fP) as wild cards.
Escape all literal asterisks and backslashes with a backslash.
Replacements correspond linearly to matches: each asterisk in
\fB\-\-nsFrom\fP must correspond to an asterisk in \fB\-\-nsTo\fP, and the
first asterisk in \fB\-\-nsFrom\fP matches the first asterisk in \fBnsTo\fP\&.
.sp
For more complex replacements, use dollar signs to delimit a "wild
card" variable to use in the replacement.
\fI\%Change Collections\(aq Namespaces during Restore\fP provides an example of complex
replacements with dollar sign\-delimited wild cards.
.sp
Unlike replacements with asterisks, replacements with dollar
sign\-delimited wild cards do \fBnot\fP need to be linear.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-nsTo <namespace pattern>
New in version 3.4.

.sp
Use with \fI\%\-\-nsFrom\fP to rename a namespace during the
restore operation. \fI\%\-\-nsTo\fP specifies the new collection
name to use in the restored database, while
\fI\%\-\-nsFrom\fP specifies the name in the dump file.
.sp
\fI\%\-\-nsTo\fP accepts a \fInamespace pattern\fP as its argument. The namespace
pattern permits \fI\%\-\-nsTo\fP to refer to any namespace that matches the
specified pattern. \fI\%mongorestore\fP matches the smallest valid occurence
of the namespace pattern.
.sp
For simple replacements, use asterisks (\fB*\fP) as wild cards.
Escape all literal asterisks and backslashes with a backslash.
Replacements correspond linearly to matches: each asterisk in
\fB\-\-nsFrom\fP must correspond to an asterisk in \fB\-\-nsTo\fP, and the
first asterisk in \fB\-\-nsFrom\fP matches the first asterisk in \fBnsTo\fP\&.
.sp
For more complex replacements, use dollar signs to delimit a "wild
card" variable to use in the replacement.
\fI\%Change Collections\(aq Namespaces during Restore\fP provides an example of complex
replacements with dollar sign\-delimited wild cards.
.sp
Unlike replacements with asterisks, replacements with dollar
sign\-delimited wild cards do \fBnot\fP need to be linear.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-objcheck
Forces \fBmongorestore\fP to validate all requests from clients
upon receipt to ensure that clients never insert invalid documents into
the database. For objects with a high degree of sub\-document nesting,
\fI\%\-\-objcheck\fP can have a small impact on performance.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-drop
Before restoring the collections from the dumped backup, drops the
collections from the target database. \fI\%\-\-drop\fP does not drop
collections that are not in the backup.
.sp
When the restore includes the \fBadmin\fP database, \fBmongorestore\fP with
\fI\%\-\-drop\fP removes all user credentials and replaces them with the
users defined in the dump file. Therefore, in systems with
\fBauthorization\fP enabled, \fBmongorestore\fP must be able
to authenticate to an existing user \fIand\fP to a user defined in the
dump file. If \fBmongorestore\fP can\(aqt authenticate to a user defined in the
dump file, the restoration process will fail, leaving an empty
database.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dryRun
New in version 3.4.

.sp
Runs \fBmongorestore\fP without actually importing any data, returning the
\fBmongorestore\fP summary information. Use with \fB\-\-verbose\fP to produce
more detailed summary information.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-oplogReplay
After restoring the database dump, replays the oplog entries
from a bson file.
When used in conjunction with \fBmongodump \-\-oplog\fP,
\fB~bin.mongorestore \-\-oplogReplay\fP
restores the database to the point\-in\-time backup captured with the
\fBmongodump \-\-oplog\fP command.
.sp
\fBmongorestore\fP searches for any valid source  for the bson file
in the following locations:
.INDENT 7.0
.IP \(bu 2
The top level of the dump directory, as in the case of a dump created
with \fBmongodump \-\-oplog\fP\&.
.IP \(bu 2
The path specified by \fI\%\-\-oplogFile\fP\&.
.IP \(bu 2
\fB<dump\-directory>/local/oplog.rs.bson\fP, as in the case of a dump
of the \fBoplog.rs\fP collection in the \fBlocal\fP database
on a \fBmongod\fP that is a member of a replica set.
.UNINDENT
.sp
If there is an \fBoplog.bson\fP file at the top level of the dump
directory \fBand\fP a path specified by \fI\%\-\-oplogFile\fP,
\fBmongorestore\fP returns an error.
.sp
If there is an \fBoplog.bson\fP file at the top level of the dump directory,
\fBmongorestore\fP restores that file as the oplog. If there are also bson
files in the \fBdump/local\fP directory, \fBmongorestore\fP restores them like
normal collections.
.sp
If you specify an oplog file using \fI\%\-\-oplogFile\fP,
\fBmongorestore\fP restores that file as the oplog. If there are also bson
files in the \fBdump/local\fP directory, \fBmongorestore\fP restores them like
normal collections.
.sp
For an example of \fI\%\-\-oplogReplay\fP, see backup\-restore\-oplogreplay\&.
.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
When using \fI\%mongorestore\fP with \fI\%\-\-oplogReplay\fP to restore
a replica set, you must
restore a full dump of a replica set member created
using \fB~bin.mongodump \-\-oplog\fP\&.
\fI\%mongorestore\fP with \fI\%\-\-oplogReplay\fP fails if you use any of
the following options to limit the data be restored:
.INDENT 0.0
.IP \(bu 2
\fI\%\-\-db\fP
.IP \(bu 2
\fI\%\-\-collection\fP
.IP \(bu 2
\fI\%\-\-nsInclude\fP
.IP \(bu 2
\fI\%\-\-nsExclude\fP
.UNINDENT
.UNINDENT
.UNINDENT
.sp
\fBSEE ALSO:\fP
.INDENT 7.0
.INDENT 3.5
\fI\%mongorestore Required Access\fP
.UNINDENT
.UNINDENT
.sp
\fBSEE ALSO:\fP
.INDENT 7.0
.INDENT 3.5
\fBmongodump \-\-oplog\fP
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-oplogLimit <timestamp>
Prevents \fBmongorestore\fP from applying oplog entries
with timestamp newer than or equal to \fB<timestamp>\fP\&. Specify
\fB<timestamp>\fP values in the form of \fB<time_t>:<ordinal>\fP, where
\fB<time_t>\fP is the seconds since the UNIX epoch, and \fB<ordinal>\fP
represents a counter of operations in the oplog that occurred in the
specified second.
.sp
You must use \fI\%\-\-oplogLimit\fP in conjunction with the
\fI\%\-\-oplogReplay\fP option.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-oplogFile <path>
New in version 3.4.

.sp
Specifies the path to the oplog file containing oplog data for the
restore. Use with \fI\%\-\-oplogReplay\fP\&.
.sp
If you specify \fI\%\-\-oplogFile\fP and there is an \fBoplog.bson\fP
file at the top level of the dump directory, \fBmongorestore\fP returns an
error.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-keepIndexVersion
Prevents \fBmongorestore\fP from upgrading the index to the latest
version during the restoration process.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-noIndexRestore
Prevents \fBmongorestore\fP from restoring and building indexes as
specified in the corresponding \fBmongodump\fP output.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-noOptionsRestore
Prevents \fBmongorestore\fP from setting the collection options,
such as those specified by the \fBcollMod\fP database
command, on restored collections.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-restoreDbUsersAndRoles
Restore user and role definitions for the given database. See
/reference/system\-roles\-collection and
/reference/system\-users\-collection for more information.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-writeConcern <document>
\fIDefault\fP: majority
.sp
Specifies the write concern for each write operation that \fBmongorestore\fP
performs.
.sp
Specify the write concern as a document with w options:
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
\-\-writeConcern "{w:\(aqmajority\(aq}"
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If the write concern is also included in the \fI\%\-\-uri
connection string\fP, the command\-line
\fI\%\-\-writeConcern\fP overrides the write concern specified in
the URI string.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-maintainInsertionOrder
\fIDefault\fP: False
.sp
If specified, \fBmongorestore\fP inserts the documents in the order of
their appearance in the input source, otherwise \fBmongorestore\fP may
perform the insertions in an arbitrary order.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-numParallelCollections int, \-j int
\fIDefault\fP: 4
.sp
Number of collections \fBmongorestore\fP should restore
in parallel.
.sp
If you specify \fB\-j\fP when restoring a \fIsingle\fP collection, \fB\-j\fP
maps to the \fI\%\-\-numInsertionWorkersPerCollection\fP option rather than
\fI\%\-\-numParallelCollections\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-numInsertionWorkersPerCollection int
\fIDefault\fP: 1
.sp
New in version 3.0.0.

.sp
Specifies the number of insertion workers to run concurrently per collection.
.sp
For large imports, increasing the number of insertion workers
may increase the speed of the import.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-stopOnError
New in version 3.0.

.sp
Forces \fBmongorestore\fP to halt the restore when it encounters an
error.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-bypassDocumentValidation
Enables \fBmongorestore\fP to bypass document validation
during the operation. This lets you insert documents that do not
meet the validation requirements.
.sp
New in version 3.2.1.

.UNINDENT
.INDENT 0.0
.TP
.B \-\-gzip
New in version 3.2.

.sp
Restores from compressed files or data stream created by
\fB~bin.mongodump \-\-gzip\fP
.sp
To restore from a dump directory that contains compressed files, run
\fI\%mongorestore\fP with the \fI\%\-\-gzip\fP option.
.sp
To restore from a compressed archive file, run \fI\%mongorestore\fP with
both the \fI\%\-\-gzip\fP  and the \fI\-\-archive\fP options.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-archive <=file|null>
New in version 3.2.

.sp
Restores from an archive file or from the standard input (\fBstdin\fP).
.sp
To restore from an archive file, run \fBmongorestore\fP with the \fB\-\-archive\fP
option and the archive filename.
.sp
To restore from the standard input, run \fBmongorestore\fP with the
\fB\-\-archive\fP option but \fIomit\fP the filename.
.sp
\fBNOTE:\fP
.INDENT 7.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
You cannot use the \fB\-\-archive\fP option with the \fI\%\-\-dir\fP
option.
.IP \(bu 2
If you use the \fI\%\-\-archive\fP option with the \fI\%<path>\fP
parameter, \fBmongorestore\fP ignores \fI\%<path>\fP parameter.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.IP \(bu 2
\fBmongorestore\fP still supports the positional \fB\-\fP parameter to
restore a \fIsingle\fP collection from the standard input.
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B <path>
The directory path or BSON file name from which to restore data.
.sp
You cannot specify both the \fB<path>\fP argument and the \fB\-\-dir\fP
option, which also specifies the dump directory, to \fBmongorestore\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dir string
Specifies the dump directory.
.INDENT 7.0
.IP \(bu 2
You cannot specify both the \fB\-\-dir\fP option and the \fB<path>\fP
argument, which also specifies the dump directory, to \fBmongorestore\fP\&.
.IP \(bu 2
You cannot use the \fB\-\-archive\fP option with the \fB\-\-dir\fP option.
.UNINDENT
.UNINDENT
.SH EXAMPLES
.SS Restore with Access Control
.sp
In the following example, \fI\%mongorestore\fP restores from
\fB/opt/backup/mongodump\-2011\-10\-24\fP to a \fBmongod\fP
instance running on port \fB27017\fP on the host
\fBmongodb1.example.net\fP\&. The \fI\%\-\-uri\fP
string omits the user\(aqs password to have \fI\%mongorestore\fP
prompt for the password.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-uri "mongodb://user@mongodb1.example.net:27017/?authSource=admin" /opt/backup/mongodump\-2011\-10\-24
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Alternatively, you can specify the host, port, username, and
authentication database using \fI\%\-\-host\fP,
\fI\%\-\-port\fP, \fI\%\-\-username\fP, and \fI\%\-\-authenticationDatabase\fP\&.  Omit \fI\%\-\-password\fP to have \fI\%mongorestore\fP prompt for the password:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-host mongodb1.example.net \-\-port 27017 \-\-username user \-\-authenticationDatabase=admin /opt/backup/mongodump\-2011\-10\-24
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Restore a Collection
.sp
New in version 3.4.

.sp
To restore a specific collection, use \fI\%\-\-nsInclude\fP, passing in the full namespace
(\fB<database>.<collection>\fP) of the collection.
.sp
For example, the following restores the collection named
\fBpurchaseorders\fP in the database \fBtest\fP from the corresponding
files located in the \fBdump/\fP directory.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-nsInclude test.purchaseorders dump/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The \fI\%mongorestore\fP outputs the results, including the
number of documents restored:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
2019\-06\-28T19:23:42.858\-0400   preparing collections to restore from
2019\-06\-28T19:23:42.858\-0400   reading metadata for test.purchaseorders from dump/test/purchaseorders.metadata.json
2019\-06\-28T19:23:42.893\-0400   restoring test.purchaseorders from dump/test/purchaseorders.bson
2019\-06\-28T19:23:42.896\-0400   restoring indexes for collection test.purchaseorders from metadata
2019\-06\-28T19:23:42.991\-0400   finished restoring test.purchaseorders (6 documents, 0 failures)
2019\-06\-28T19:23:42.991\-0400   6 document(s) restored successfully. 0 document(s) failed to restore.
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If the \fBdump/\fP directory does not contain the corresponding data
files for the specified namespace, no data will be restored:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
2019\-07\-08T14:39:57.121\-0400 preparing collections to restore from
2019\-07\-08T14:39:57.121\-0400 0 document(s) restored successfully. 0 document(s) failed to restore.
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Alternatively, you can restore a specific collection using the
\fI\%\-\-db\fP, \fI\%\-\-collection\fP, and a \fB\&.bson\fP file:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-db test \-\-collection purchaseorders dump/test/purchaseorders.bson
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
2019\-06\-30T12:21:44.777\-0400   checking for collection data in dump/test/purchaseorders.bson
2019\-06\-30T12:21:44.779\-0400   reading metadata for test.purchaseorders from dump/test/purchaseorders.metadata.json
2019\-06\-30T12:21:44.813\-0400   restoring test.purchaseorders from dump/test/purchaseorders.bson
2019\-06\-30T12:21:44.881\-0400   restoring indexes for collection test.purchaseorders from metadata
2019\-06\-30T12:21:44.987\-0400   finished restoring test.purchaseorders (6 documents, 0 failures)
2019\-06\-30T12:21:44.987\-0400   6 document(s) restored successfully. 0 document(s) failed to restore.
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Restore Collections Using Wild Cards
.sp
New in version 3.4.

.sp
\fI\%\-\-nsInclude\fP and
\fI\%\-\-nsExclude\fP support specifying the
namespaces you wish to include or exclude from a
restore operation using asterisks as \fIwild cards\fP\&.
.sp
The following example restores the documents in the \fBdump/\fP
sub\-directory of the current directory that match the specified
namespace pattern. The \fI\%\-\-nsInclude\fP
statement specifies to only restore documents in the \fBtransactions\fP
database while \fI\%\-\-nsExclude\fP
instructs \fI\%mongorestore\fP to exclude collections whose
names end with \fB_dev\fP\&. \fI\%mongorestore\fP restores data to
the \fBmongod\fP instance running on the localhost interface
on port \fB27017\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-nsInclude \(aqtransactions.*\(aq \-\-nsExclude \(aqtransactions.*_dev\(aq dump/
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Change Collections\(aq Namespaces during Restore
.sp
New in version 3.4.

.sp
MongoDB 3.4 added the \fI\%\-\-nsFrom\fP and
\fI\%\-\-nsTo\fP options, which enable you to
change the namespace of a collection that you are restoring.
\fI\%\-\-nsFrom\fP and \fI\%\-\-nsTo\fP support using asterisks as wild cards \fIand\fP
support using dollar signs to delimit "wild card" variables to use in
the replacement.
.sp
Consider a database \fBdata\fP that you have exported to a \fBdump/\fP
directory using \fBmongodump\fP\&. The \fBdata\fP database
contains the following collections:
.INDENT 0.0
.IP \(bu 2
\fBsales_customer1\fP
.IP \(bu 2
\fBsales_customer2\fP
.IP \(bu 2
\fBsales_customer3\fP
.IP \(bu 2
\fBusers_customer1\fP
.IP \(bu 2
\fBusers_customer2\fP
.IP \(bu 2
\fBusers_customer3\fP
.UNINDENT
.sp
Using \fI\%\-\-nsFrom\fP and \fI\%\-\-nsTo\fP, you can restore the data into different
namespaces. The following operation
.INDENT 0.0
.IP \(bu 2
restores the \fBsales_<customerName>\fP collections in the \fBdata\fP
database to \fBsales\fP collections in the \fB<customerName>\fP database,
and
.IP \(bu 2
restores the \fBusers_<customerName>\fP collections to \fBusers\fP
collections in the \fB<customerName>\fP database.
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-nsInclude \(aqdata.*\(aq \-\-nsFrom \(aqdata.$prefix$_$customer$\(aq \-\-nsTo \(aq$customer$.$prefix$\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Restore from an Archive File
.sp
To restore from an archive file, run \fBrestore\fP with the new
\fB\-\-archive\fP option and the archive filename.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-archive=test.20150715.archive
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Restore a Database from an Archive File
.sp
New in version 3.2.

.sp
To restore from an archive file, run \fBrestore\fP with the new
\fB\-\-archive\fP option and the archive filename. For example, the
following operation restores the \fBtest\fP database from the file
\fBtest.20150715.archive\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-archive=test.20150715.archive  \-\-nsInclude "test.*"
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Restore from Compressed Data
.sp
New in version 3.2: With the \fB\-\-gzip\fP option, \fI\%mongorestore\fP can restore from
compressed files or data stream created by \fBmongodump\fP\&.

.sp
To restore from a dump directory that contains compressed files, run
\fI\%mongorestore\fP with the \fI\%\-\-gzip\fP\&. For example, the following operation restores the \fBtest\fP
database from the compressed files located in the default \fBdump\fP
directory:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-gzip  \-\-nsInclude "test.*" dump/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To restore from a compressed archive file, run
\fI\%mongorestore\fP with the \fI\%\-\-gzip\fP option and the \fI\%\-\-archive\fP
option. For example, the following operation restores the \fBtest\fP
database from the archive file \fBtest.20150715.gz\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongorestore \-\-gzip \-\-archive=test.20150715.gz \-\-nsInclude "test.*"
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Restore a Database from Standard Input
.sp
New in version 3.2.

.sp
To restore from the standard input, run \fI\%mongorestore\fP
with the \fI\%\-\-archive\fP option but \fIomit\fP
the filename. For example:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mongodump \-\-archive \-\-db test \-\-port 27017 | mongorestore \-\-archive \-\-port 27018
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHOR
MongoDB Documentation Project
.SH COPYRIGHT
2008-2019
.\" Generated by docutils manpage writer.
.
